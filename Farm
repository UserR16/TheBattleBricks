local Chapter = _G.Chapter or 1
local Level = _G.Level or 10

local GC = getconnections or get_signal_cons
if GC then
for i,v in pairs(GC(game.Players.LocalPlayer.Idled)) do
if v["Disable"] then
v["Disable"](v)
elseif v["Disconnect"] then
v["Disconnect"](v)
end
end
else
game.Players.LocalPlayer.Idled:Connect(function()
local VirtualUser = game:GetService("VirtualUser")
VirtualUser:CaptureController()
VirtualUser:ClickButton2(Vector2.new())
end)
end

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "TBB_GUI"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = game.CoreGui

local Button = Instance.new("TextButton")
Button.Size = UDim2.new(0, 350, 0, 100)
Button.Position = UDim2.new(0.5, 0, 0, 0)
Button.TextColor3 = Color3.fromRGB(255, 255, 255)
Button.BackgroundTransparency = 0.4
Button.Font = Enum.Font.SourceSansBold
Button.TextSize = 10
Button.Text = "The Battle Bricks Farm"
Button.Parent = ScreenGui

Instance.new("UICorner", Button)
Instance.new("UIStroke", Button)
local uigradient = Instance.new("UIGradient")
uigradient.Color = ColorSequence.new({
				ColorSequenceKeypoint.new(0.00, Color3.fromRGB(255,0,255)),
				ColorSequenceKeypoint.new(0.50, Color3.fromRGB(255,0,200)),
				ColorSequenceKeypoint.new(1.00, Color3.fromRGB(100,0,255))
			})
uigradient.Parent = Button
local XPOld = game:GetService("Players").LocalPlayer.PlayerGui.MainMenu.Lobby.Currency.XP.Amount.Text
game:GetService("RunService").RenderStepped:Connect(function()
local XPNew = game:GetService("Players").LocalPlayer.PlayerGui.MainMenu.Lobby.Currency.XP.Amount.Text
Button.Text = "The Battle Bricks Farm XP | XP-OLD : " .. XPOld .. " | XP+ : " .. XPNew - XPOld .. " | XP-NOW : " .. XPNew .. "\n Chapter : " .. Chapter .. " | Level : " .. Level
local args = {
	"Slot1"
}
game:GetService("ReplicatedStorage"):WaitForChild("Events"):WaitForChild("RemoteFunction"):WaitForChild("PlayerSpawn"):InvokeServer(unpack(args))
local args = {
	"Slot3"
}
game:GetService("ReplicatedStorage"):WaitForChild("Events"):WaitForChild("RemoteFunction"):WaitForChild("PlayerSpawn"):InvokeServer(unpack(args))
local args = {
	"Slot2"
}
game:GetService("ReplicatedStorage"):WaitForChild("Events"):WaitForChild("RemoteFunction"):WaitForChild("PlayerSpawn"):InvokeServer(unpack(args)) 
local args = {
	"Chapter" .. Chapter,
	Level,
	1,
	1,
	false,
	{},
	false,
	1
}
game:GetService("ReplicatedStorage"):WaitForChild("Events"):WaitForChild("RemoteFunction"):WaitForChild("StartBattle"):InvokeServer(unpack(args))
end)
